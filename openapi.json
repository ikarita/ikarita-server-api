{"openapi":"3.0.1","info":{"title":"Ikarita Server API","version":"1"},"servers":[{"url":"http://localhost:8080"}],"tags":[{"name":"Communities","description":"Access and management for communities."},{"name":"Users","description":"Access and management for users."},{"name":"Tokens","description":"Tokens generation."}],"paths":{"/api/v1/users/roles":{"put":{"tags":["Users"],"summary":"Assigns community role to user within a community.","operationId":"addRoleToUser","requestBody":{"description":"IDs of the user and the community role to be assigned to it.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewCommunityRoleForUserDto"}}},"required":true},"responses":{"201":{"description":"User with new community role.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}},"security":[{"Bearer JWT":[]}]}},"/api/v1/users":{"get":{"tags":["Users"],"summary":"Fetches all users.","operationId":"getUsers","responses":{"default":{"description":"List of users.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserDto"}}}}}},"security":[{"Bearer JWT":[]}]},"post":{"tags":["Users"],"summary":"Creates user.","operationId":"createUser","requestBody":{"description":"Definition of the new user without its ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewUserDto"}}},"required":true},"responses":{"default":{"description":"User that was created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}}}},"/api/v1/token/refresh":{"post":{"tags":["Tokens"],"summary":"Refreshes access token given refresh token is still valid.","operationId":"refreshToken","responses":{"200":{"description":"OK"}}}},"/api/v1/community/roles":{"post":{"tags":["Users","Communities"],"summary":"Creates roles available for a community.","operationId":"saveRole","requestBody":{"description":"Definition of the new community role without its ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewCommunityRoleDto"}}},"required":true},"responses":{"default":{"description":"Community role that was created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunityRoleDto"}}}}},"security":[{"Bearer JWT":[]}]}},"/api/v1/communities":{"get":{"tags":["Communities"],"summary":"Fetches all communities.","operationId":"getCommunities","responses":{"default":{"description":"List of communities.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommunityDto"}}}}}},"security":[{"Bearer JWT":[]}]},"post":{"tags":["Communities"],"summary":"Creates community.","operationId":"createCommunity","requestBody":{"description":"Definition of the new community without its ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewCommunityDto"}}},"required":true},"responses":{"default":{"description":"Community that was created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunityDto"}}}}},"security":[{"Bearer JWT":[]}]}},"/api/v1/communities/deactivate/{communityId}":{"post":{"tags":["Communities"],"summary":"Deactivates community by its ID.","operationId":"deactivateCommunity","parameters":[{"name":"userId","description":"ID of the community to be deactivated."},{"name":"communityId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"201":{"description":"Deactivated community.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunityDto"}}}}},"security":[{"Bearer JWT":[]}]}},"/api/v1/communities/{communityId}":{"get":{"tags":["Communities"],"summary":"Fetches community by its ID.","operationId":"getCommunity","parameters":[{"name":"userId","description":"ID of the community to be fetched."},{"name":"communityId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"default":{"description":"Community corresponding to the ID.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunityDto"}}}}},"security":[{"Bearer JWT":[]}]}},"/api/v1/users/ban/{userId}":{"delete":{"tags":["Users"],"summary":"Bans user by its ID.","operationId":"banUser","parameters":[{"name":"userId","in":"path","description":"ID of the user to be banned.","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"201":{"description":"User that is banned from the platform.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}}},"security":[{"Bearer JWT":[]}]}}},"components":{"schemas":{"NewCommunityRoleForUserDto":{"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"roleId":{"type":"integer","format":"int64"}}},"CommunityDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"public":{"type":"boolean"}}},"CommunityRoleDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"community":{"$ref":"#/components/schemas/CommunityDto"}}},"UserDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"email":{"type":"string"},"userRole":{"type":"string","enum":["VIEWER","CONTRIBUTOR","MODERATOR","ADMIN"]},"communityRoles":{"type":"array","items":{"$ref":"#/components/schemas/CommunityRoleDto"}}}},"NewUserDto":{"type":"object","properties":{"username":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"}}},"CommunitySimpleDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"}}},"NewCommunityRoleDto":{"type":"object","properties":{"name":{"type":"string"},"community":{"$ref":"#/components/schemas/CommunitySimpleDto"}}},"NewCommunityDto":{"type":"object","properties":{"name":{"type":"string"},"public":{"type":"boolean"}}}},"securitySchemes":{"Bearer JWT":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}